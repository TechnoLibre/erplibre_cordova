<ng-template #templateAdd let-modal>
	<div class="modal-header">
		<h5 class="modal-title">Ajouter un aliment</h5>
		<button
			type="button"
			class="btn-close"
			aria-label="Close"
			(click)="modal.dismiss()"
		></button>
	</div>
	<div class="modal-body">
		<form
			[formGroup]="addFormGroup"
			(ngSubmit)="addAliment()"
			autocomplete="off"
		>
			<div class="mb-3">
				<label for="aliment-modal--add__name" class="form-label"
					>Nom</label
				>
				<input
					type="text"
					id="aliment-modal--add__name"
					formControlName="name"
					class="form-control"
					ngbAutoFocus
				/>
				<div
					*ngIf="addName?.invalid && addFormSubmitted"
					class="alert alert-danger mt-2"
				>
					<div *ngIf="addName?.errors?.['required']">
						Ce champ est obligatoire.
					</div>
				</div>
			</div>
			<div class="mb-3">
				<label for="aliment-modal--add__description" class="form-label"
					>Description</label
				>
				<input
					type="text"
					id="aliment-modal--add__description"
					formControlName="description"
					class="form-control"
				/>
			</div>
			<div class="mb-3">
				<label for="aliment-modal--add__html" class="form-label"
					>Html</label
				>
				<textarea
					id="aliment-modal--add__html"
					rows="3"
					formControlName="html"
					class="form-control"
				></textarea>
			</div>
			<div class="mb-3">
				<label for="aliment-modal--add__date" class="form-label"
					>Date</label
				>
				<input
					type="date"
					id="aliment-modal--add__date"
					formControlName="date"
					class="form-control"
				/>
			</div>
			<div class="mb-3">
				<label for="aliment-modal--add__datetime" class="form-label"
					>Datetime</label
				>
				<input
					type="datetime-local"
					id="aliment-modal--add__datetime"
					formControlName="datetime"
					class="form-control"
				/>
			</div>
			<div class="mb-3">
				<label for="aliment-modal--add__int" class="form-label"
					>Int</label
				>
				<input
					type="text"
					id="aliment-modal--add__int"
					formControlName="int"
					class="form-control"
				/>
				<div
					*ngIf="addInt?.invalid && addFormSubmitted"
					class="alert alert-danger mt-2"
				>
					<div *ngIf="addInt?.errors?.['pattern']">
						Nombre invalide.
					</div>
				</div>
			</div>
			<div class="mb-3">
				<label for="aliment-modal--add__float" class="form-label"
					>Float</label
				>
				<input
					type="text"
					id="aliment-modal--add__float"
					formControlName="float"
					class="form-control"
				/>
				<div
					*ngIf="addFloat?.invalid && addFormSubmitted"
					class="alert alert-danger mt-2"
				>
					<div *ngIf="addFloat?.errors?.['pattern']">
						Nombre invalide.
					</div>
				</div>
			</div>
			<div class="mb-3">
				<label class="form-label">Bool (Boolean)</label>

				<div class="form-check">
					<input
						type="checkbox"
						class="form-check-input"
						id="aliment-modal--add__bool"
						value=""
						formControlName="bool"
					/>
					<label
						for="aliment-modal--add__bool"
						class="form-check-label"
						[innerText]="addFormGroup.value.bool"
					></label>
				</div>
			</div>
			<div class="modal-footer">
				<button
					type="button"
					class="btn btn-secondary ml-auto"
					data-bs-dismiss="modal"
					(click)="modal.close()"
				>
					Fermer
				</button>
				<button class="btn btn-primary" type="submit">Ajouter</button>
			</div>
		</form>
	</div>
</ng-template>
<ng-template #templateDelete let-modal>
	<div class="modal-header">
		<h5 class="modal-title">Supprimer un aliment</h5>
		<button
			type="button"
			class="btn-close"
			aria-label="Close"
			(click)="modal.dismiss()"
		></button>
	</div>
	<div class="modal-body">
		<p *ngIf="currentAliment">
			Voulez-vous vraiment supprimer l'aliment "{{
				currentAliment.name
			}}"?
		</p>
	</div>
	<div class="modal-footer">
		<button class="btn btn-secondary" ngbAutoFocus (click)="modal.close()">
			Annuler
		</button>
		<button class="btn btn-danger" (click)="deleteAliment()">
			Supprimer
		</button>
	</div>
</ng-template>
<ng-template #templateEdit let-modal>
	<div class="modal-header">
		<h5 class="modal-title">Modifier un aliment</h5>
		<button
			type="button"
			class="btn-close"
			aria-label="Close"
			(click)="modal.dismiss()"
		></button>
	</div>
	<div class="modal-body">
		<form
			[formGroup]="editFormGroup"
			(ngSubmit)="editAliment()"
			autocomplete="off"
		>
			<div class="mb-3">
				<label for="aliment-modal--edit__name" class="form-label"
					>Nom</label
				>
				<input
					type="text"
					id="aliment-modal--edit__name"
					formControlName="name"
					class="form-control"
					ngbAutoFocus
				/>
				<div
					*ngIf="editName?.invalid && editFormSubmitted"
					class="alert alert-danger mt-2"
				>
					<div *ngIf="editName?.errors?.['required']">
						Ce champ est obligatoire.
					</div>
				</div>
			</div>
			<div class="mb-3">
				<label for="aliment-modal--edit__description" class="form-label"
					>Description</label
				>
				<input
					type="text"
					id="aliment-modal--edit__description"
					formControlName="description"
					class="form-control"
				/>
			</div>
			<div class="mb-3">
				<label for="aliment-modal--edit__html" class="form-label"
					>Html</label
				>
				<textarea
					id="aliment-modal--edit__html"
					rows="3"
					formControlName="html"
					class="form-control"
				></textarea>
			</div>
			<div class="mb-3">
				<label for="aliment-modal--edit__date" class="form-label"
					>Date</label
				>
				<input
					type="date"
					id="aliment-modal--edit__date"
					formControlName="date"
					class="form-control"
				/>
			</div>
			<div class="mb-3">
				<label for="aliment-modal--edit__datetime" class="form-label"
					>Datetime</label
				>
				<input
					type="datetime-local"
					id="aliment-modal--edit__datetime"
					formControlName="datetime"
					class="form-control"
				/>
			</div>
			<div class="mb-3">
				<label for="aliment-modal--edit__int" class="form-label"
					>Int</label
				>
				<input
					type="text"
					id="aliment-modal--edit__int"
					formControlName="int"
					class="form-control"
				/>
				<div
					*ngIf="editInt?.invalid && editFormSubmitted"
					class="alert alert-danger mt-2"
				>
					<div *ngIf="editInt?.errors?.['pattern']">
						Nombre invalide.
					</div>
				</div>
			</div>
			<div class="mb-3">
				<label for="aliment-modal--edit__float" class="form-label"
					>Float</label
				>
				<input
					type="text"
					id="aliment-modal--edit__float"
					formControlName="float"
					class="form-control"
				/>
				<div
					*ngIf="editFloat?.invalid && editFormSubmitted"
					class="alert alert-danger mt-2"
				>
					<div *ngIf="editFloat?.errors?.['pattern']">
						Nombre invalide.
					</div>
				</div>
			</div>
			<div class="mb-3">
				<label class="form-label">Bool (Boolean)</label>

				<div class="form-check">
					<input
						type="checkbox"
						class="form-check-input"
						id="aliment-modal--edit__bool"
						value=""
						formControlName="bool"
					/>
					<label
						for="aliment-modal--edit__bool"
						class="form-check-label"
						[innerText]="editFormGroup.value.bool"
					></label>
				</div>
			</div>
			<div class="modal-footer">
				<button
					type="button"
					class="btn btn-secondary ml-auto"
					data-bs-dismiss="modal"
					(click)="modal.close()"
				>
					Fermer
				</button>
				<button class="btn btn-primary" type="submit">Modifier</button>
			</div>
		</form>
	</div>
</ng-template>
<ng-template #templateInfo let-modal>
	<div class="modal-header">
		<h5 class="modal-title">Informations sur l'aliment</h5>
		<button
			type="button"
			class="btn-close"
			aria-label="Close"
			(click)="modal.dismiss()"
		></button>
	</div>
	<div class="modal-body">
		<div class="mb-3">
			<p>Name (Char)</p>
			<div
				class="p-3 mt-2 rounded bg-secondary text-light aliment-modal--info__field"
				[innerText]="currentAliment.name || ''"
			></div>
		</div>
		<div class="mb-3">
			<p>Description (Text)</p>
			<div
				class="p-3 mt-2 rounded bg-secondary text-light aliment-modal--info__field"
				[innerText]="currentAliment.description || ''"
			></div>
		</div>
		<div class="mb-3">
			<p>Html (Html)</p>
			<div
				class="p-3 mt-2 rounded bg-secondary text-light aliment-modal--info__field"
				[innerHTML]="currentAliment.html || ''"
			></div>
		</div>
		<div class="mb-3">
			<p>Date (Date)</p>
			<div
				class="p-3 mt-2 rounded bg-secondary text-light aliment-modal--info__field"
				[innerText]="currentAliment.date || ''"
			></div>
		</div>
		<div class="mb-3">
			<p>Datetime (Datetime)</p>
			<div
				class="p-3 mt-2 rounded bg-secondary text-light aliment-modal--info__field"
				[innerText]="formattedDatetime"
			></div>
		</div>
		<div class="mb-3">
			<p>Int (Integer)</p>
			<div
				class="p-3 mt-2 rounded bg-secondary text-light aliment-modal--info__field"
				[innerText]="currentAliment.int || ''"
			></div>
		</div>
		<div class="mb-3">
			<p>Float (Float)</p>
			<div
				class="p-3 mt-2 rounded bg-secondary text-light aliment-modal--info__field"
				[innerText]="currentAliment.float || ''"
			></div>
		</div>
		<div class="mb-3">
			<p>Bool (Boolean)</p>
			<div
				class="p-3 mt-2 rounded bg-secondary text-light aliment-modal--info__field"
				[innerText]="currentAliment.bool || ''"
			></div>
		</div>
	</div>
	<div class="modal-footer">
		<button class="btn btn-secondary" ngbAutoFocus (click)="modal.close()">
			Fermer
		</button>
	</div>
</ng-template>
<ng-template #templateOptions let-modal>
	<div class="modal-header">
		<h5 class="modal-title">
			Options pour l'aliment "{{ currentAliment.name }}"
		</h5>
		<button
			type="button"
			class="btn-close"
			aria-label="Close"
			(click)="modal.dismiss()"
		></button>
	</div>
	<div class="modal-body">
		<div class="d-flex gap-2 justify-content-end">
			<button
				type="button"
				class="btn btn-primary"
				(click)="openEditModal(currentAliment.id)"
			>
				Modifier
			</button>
			<button
				type="button"
				class="btn btn-danger"
				(click)="openDeleteModal(currentAliment.id)"
			>
				Supprimer
			</button>
			<button
				type="button"
				class="btn btn-secondary"
				(click)="modal.dismiss()"
				ngbAutoFocus
			>
				Annuler
			</button>
		</div>
	</div>
</ng-template>
