<ng-template #templateref let-modal>
	<div class="modal-header">
		<h5 class="modal-title">Ajouter une recette</h5>
		<button
			type="button"
			class="btn-close"
			aria-label="Close"
			(click)="modal.dismiss()"
		></button>
	</div>
	<div class="modal-body">
		<form
			[formGroup]="recipeAddForm"
			(ngSubmit)="addRecipe()"
			autocomplete="off"
		>
			<div class="mb-3">
				<label for="recipe-modal--add__name" class="form-label"
					>Nom</label
				>
				<input
					type="text"
					id="recipe-modal--add__name"
					formControlName="name"
					class="form-control"
					ngbAutoFocus
				/>
				<div
					*ngIf="formName?.invalid && recipeAddFormSubmitted"
					class="alert alert-danger mt-2"
				>
					<div *ngIf="formName?.errors?.['required']">
						Ce champ est obligatoire.
					</div>
				</div>
			</div>
			<div class="mb-3">
				<label for="recipe-modal--add__description" class="form-label"
					>Description</label
				>
				<input
					type="text"
					id="recipe-modal--add__description"
					formControlName="description"
					class="form-control"
				/>
			</div>
			<div class="mb-3">
				<label for="recipe-modal--add__aliments" class="form-label"
					>Aliments</label
				>
				<select
					multiple
					class="form-select"
					formControlName="aliments"
					id="recipe-modal--add__aliments"
				>
					<option
						*ngFor="let aliment of aliments"
						[value]="aliment.id"
					>
						{{ aliment.name }}
					</option>
				</select>
				<div
					*ngIf="formAliments?.invalid && recipeAddFormSubmitted"
					class="alert alert-danger mt-2"
				>
					<div *ngIf="formAliments?.errors?.['required']">
						Ce champ est obligatoire.
					</div>
				</div>
			</div>
			<div class="modal-footer">
				<button
					type="button"
					class="btn btn-secondary ml-auto"
					data-bs-dismiss="modal"
					(click)="modal.close()"
				>
					Fermer
				</button>
				<button class="btn btn-primary" type="submit">Ajouter</button>
			</div>
		</form>
	</div>
</ng-template>
